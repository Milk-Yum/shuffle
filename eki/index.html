<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // 【ここをステップ2の自分の鍵に書き換える！】
  const firebaseConfig = {
    apiKey: "AIzaSy...",
    authDomain: "...",
    projectId: "...",
    storageBucket: "...",
    messagingSenderId: "...",
    appId: "..."
  };

  // Firebaseの初期化
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // 例：メッセージを保存する関数
  async function sendMessage(station, text) {
    try {
      await addDoc(collection(db, "messages"), {
        station: station,
        content: text,
        timestamp: new Date()
      });
      alert("ボトルを流しました！");
    } catch (e) {
      console.error("エラー: ", e);
    }
  }
</script>
